function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=e(require("immutability-helper")),a=e(require("slugify")),r=require("lodash"),s=e(require("currency.js")),n=require("react");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e}).apply(this,arguments)}function o(e,t){return void 0===t&&(t="_"),a(String(e),{replacement:t,remove:/[*+~.()'"!:@]/g,lower:!1})}exports.authReducer=function(e,a){switch(void 0===e&&(e={role:"",user:{},token:"",forgot_password:{},loading:!1}),a.type){case"DO_LOGIN":return t(e,{user:{$set:a.payload}});case"SET_LOADING_AUTH":return t(e,{loading:{$set:a.payload}});case"OAUTH_LOGIN":return t(e,{token:{$set:a.payload}});case"SET_ROLE":return t(e,{user:{$set:i({},e.user,{role:a.payload})}});case"DO_FORGOT_PASSWORD":return t(e,{forgot_password:{$set:a.payload}});case"DO_LOGOUT":return t(e,{user:{$set:{}},token:{$set:null}});default:return e}},exports.coreReducer=function(e,a){var r;void 0===e&&(e={message:"",message_title:"",message_tag:"",message_payload:{},loading:!1,validation:{},input:{},parameter:{},filter:{},modal:{},status:null,media_device:null});var s=a.payload||{},n=s.key,u=s.value,l={},c={},p=!1,d=[],_=[];switch(n=o(String(n),"_"),a.type){case"SET_MULTI_FILTER":return c=i({},e.filter,a.payload),t(e,{filter:{$set:c}});case"SET_FILTER":try{d=n.split("["),e.filter[d[0]]&&(p=!0)}catch(e){}try{var E,T,y,S;return _=n.match(/\[(\S+)\]/),p?t(e,{filter:(T={},T[d[0]]=(E={},E[String(_[1])]={$set:u},E),T)}):((y={})[String(_[1])]=u,t(e,{filter:(S={},S[d[0]]={$set:y},S)}))}catch(a){var f;return t(e,{filter:(f={},f[n]={$set:u},f)})}break;case"SET_MULTI_PARAMETER":return c=i({},e.parameter,a.payload),t(e,{parameter:{$set:c}});case"RESET_SELECTED":return Object.keys(e.parameter).map(function(t,a){"selected"!=t.substr(0,8)&&(l[t]=e.parameter[t])}),t(e,{parameter:{$set:l}});case"SET_PARAMETER":p=!1;try{d=n.split("["),e.parameter[d[0]]&&(p=!0)}catch(e){}try{var A,m,g,h;return _=n.match(/\[(\S+)\]/),p?t(e,{parameter:(m={},m[d[0]]=(A={},A[String(_[1])]={$set:u},A),m)}):((g={})[String(_[1])]=u,t(e,{parameter:(h={},h[d[0]]={$set:g},h)}))}catch(a){var v;return t(e,{parameter:(v={},v[n]={$set:u},v)})}break;case"SET_MULTI_INPUT":return c=i({},e.input,a.payload),t(e,{input:{$set:c}});case"SET_INPUT":p=!1;try{d=n.split("["),e.input[d[0]]&&(p=!0)}catch(e){}try{var O,$,N,L;return _=n.match(/\[(\S+)\]/),p?t(e,{input:($={},$[d[0]]=(O={},O[String(_[1])]={$set:u},O),$)}):((N={})[String(_[1])]=u,t(e,{input:(L={},L[d[0]]={$set:N},L)}))}catch(a){var b;return t(e,{input:(b={},b[n]={$set:u},b)})}break;case"SET_MESSAGE":return t(e,{message:{$set:a.payload}});case"SET_MESSAGE_TITLE":return t(e,{message_title:{$set:a.payload}});case"SET_MESSAGE_TAG":return t(e,{message_tag:{$set:a.payload}});case"SET_MESSAGE_PAYLOAD":return t(e,{message_payload:{$set:a.payload}});case"SET_MODAL":return t(e,{modal:(r={},r[n]={$set:u},r)});case"SET_LOADING":return t(e,{loading:{$set:a.payload}});case"RESET_VALIDATION_MESSAGE":return t(e,{message:{$set:""},validation:{$set:{}}});case"RESET_VALIDATION":return t(e,{loading:{$set:!1},validation:{$set:{}}});case"RESET_INPUT":return t(e,{input:{$set:{}}});case"SET_MEDIA_DEVICE":return t(e,{media_device:{$set:a.payload}});case"RESET_PARAMETER":return t(e,{parameter:{$set:{}}});case"RESET_FILTER":return t(e,{filter:{$set:{}}});case"SET_STATUS":return t(e,{status:{$set:a.payload}});case"SET_VALIDATION":return t(e,{validation:{$set:a.payload}});default:return e}},exports.defaultFilterData=function(e,t,a){var s=1,n=10,i="",u=[],l={};try{s=e[o("page_"+a,"_")],n=e[o("load_"+a,"_")],i=e[o("keyword_"+a,"_")]}catch(e){}Object.keys(e).map(function(e,r){var s=o("search_"+a+"_","_"),n=o("sort_"+a+"_","_");e.toLowerCase().substring(0,s.length)==s.toLowerCase()&&t.push(e.replace(s+"_","")),e.toLowerCase().substring(0,n.length)==n.toLowerCase()&&t.push(e.replace(n+"_",""))}),t=r.uniq(t);for(var c=0;c<t.length;c++){var p=t[c]||"";try{var d=e[o("search_"+a+"_"+p,"_")];r.isNull(d)||r.isUndefined(d)||(l[p]=d)}catch(e){}try{var _=e[o("sort_"+a+"_"+p,"_")];r.isNull(_)||r.isUndefined(_)||u.push({id:p,desc:"desc"==_})}catch(e){}}return{page:s||1,load:n||10,keyword:i||"",sorted:u||[],search:l||{}}},exports.fetchErrorDispatch=function(e,t,a){if(void 0===a&&(a=""),"NULL"!=(a=String(a).toUpperCase()))if(r.isEqual(a,"EXTRANET")||t({type:"SET_LOADING_"+a,payload:!1}),e.response){r.isEqual(a,"EXTRANET")||t({type:"SET_STATUS_"+a,payload:e.response.status}),t({type:"SET_STATUS",payload:e.response.status}),422==e.response.status&&t({type:"SET_VALIDATION",payload:e.response.data});try{e.response.data.message&&t({type:"SET_MESSAGE",payload:e.response.data.message})}catch(e){}try{e.response.data.data&&t({type:"SET_MESSAGE_PAYLOAD",payload:e.response.data.data})}catch(e){}try{"invalid_grant"==e.response.data.error&&t({type:"SET_MESSAGE",payload:"Email / Password salah"})}catch(e){}try{e.response.data.logout&&t({type:"DO_LOGOUT",payload:!0})}catch(e){}}else e.request&&t({type:"SET_MESSAGE",payload:"Terjadi kesalahan, silahkan dicoba kembali"})},exports.fetchSuccessDispatch=function(e,t,a){void 0===a&&(a=""),"NULL"!=(a=String(a).toUpperCase())&&(r.isEqual(a,"EXTRANET")||(t({type:"SET_STATUS_"+a,payload:e.status}),t({type:"SET_LOADING_"+a,payload:!1})))},exports.findArrayName=function(e,t){var a=null;try{var s=e.split("["),n=s[1].replace("]",""),i=s[0];a=r.isUndefined(t[i][n])||r.isNull(t[i][n])?null:t[i][n]}catch(s){a=r.isUndefined(t[e])||r.isNull(t[e])?null:t[e]}try{r.isNull(a)&&(a=r.isUndefined(t[e])||r.isNull(t[e])?null:t[e])}catch(e){}return a},exports.numberFormat=function(e,t){return void 0===t&&(t=""),e=isNaN(Number(e))?0:Number(e),s(e,{symbol:t?t+" ":"",separator:".",decimal:",",precision:e%1!=0?2:0}).format()},exports.secureData=function(e){var t=new FormData;return r.isObject(e)&&Object.keys(e).map(function(a,s){if(r.isArray(e[a]))for(var n=function(s){r.isObject(e[a][s])?Object.keys(e[a][s]).map(function(n,i){r.isUndefined(e[a][s][n])||r.isNull(e[a][s][n])||t.append(a+"["+s+"]["+n+"]",e[a][s][n])}):r.isUndefined(e[a][s])||r.isNull(e[a][s])||t.append(a+"["+s+"]",e[a][s])},i=0;i<e[a].length;i++)n(i);else r.isObject(e[a])?Object.keys(e[a]).map(function(s,n){r.isUndefined(e[a][s])||r.isNull(e[a][s])||t.append(a+"["+s+"]",e[a][s])}):r.isUndefined(e[a])||r.isNull(e[a])||t.append(a,e[a]);return!0}),t},exports.setAuthHeader=function(e,t){void 0===t&&(t="multipart/form-data");var a=process.env.REACT_APP_API_TOKEN_TYPE,r=process.env.REACT_APP_API_ACCESS_TOKEN;try{a=e.token.token_type||"",r=e.token.access_token||""}catch(e){}return{Authorization:String(a+" "+r).trim(),"Content-Type":t}},exports.slug=o,exports.useDebounce=function(e,t,a){var r=n.useCallback(e,a);n.useEffect(function(){var e=setTimeout(function(){r()},t);return function(){clearTimeout(e)}},[r,t])};
//# sourceMappingURL=index.js.map
